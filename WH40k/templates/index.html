<!DOCTYPE html>
<html lang="en">

    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Unit Creator</title>
        <link rel="stylesheet" href="static/css/styles.css">
        <script type="module" src="{{ url_for('static', filename='js/script.js') }}"></script>

    </head>

    <body>
        <div>
            <header>
                <button id="addUnitButton" class="unit-form-button">Add Unit</button>
                <h1>Unit Creator</h1>
            </header>
        </div>

        <div class="container">
            <div id="unitFormContainer" class="modal">
                <div class="modal-content">
                    <span class="close-button">&times;</span>
                    <form id="unitForm">

                        <!-- Import Unit Button -->
                        <input type="file" id="importUnitFile" style="display:none;" />
                        <button id="importUnitButton">Import Unit</button><br><br>

                        <!-- Unit Name -->
                        <label for="unitName" class="unit-form-label">Name:</label>
                        <input type="text" id="unitName" name="unitName" class="unit-form-input" required><br><br>

                        <!-- Unit Image -->
                        <label for="unitImageFile" class="unit-form-label">Image:</label>
                        <input type="file" id="unitImageFile" name="unitImageFile" class="unit-form-input"
                            accept="image/*"><br><br>

                        <!-- Unit Stats -->
                        <label for="unitMovement" class="unit-form-label">Movement:</label>
                        <input type="number" id="unitMovement" name="unitMovement" class="unit-form-input"
                            required><br><br>

                        <label for="unitToughness" class="unit-form-label">Toughness:</label>
                        <input type="number" id="unitToughness" name="unitToughness" class="unit-form-input"
                            required><br><br>

                        <label for="unitSave" class="unit-form-label">Save:</label>
                        <input type="number" id="unitSave" name="unitSave" class="unit-form-input" required><br><br>

                        <label for="unitInvulnerableSave" class="unit-form-label">Invulnerable Save:</label>
                        <input type="number" id="unitInvulnerableSave" name="unitInvulnerableSave"
                            class="unit-form-input"><br><br>

                        <label for="unitWounds" class="unit-form-label">Wounds:</label>
                        <input type="number" id="unitWounds" name="unitWounds" class="unit-form-input" required><br><br>

                        <label for="unitLeadership" class="unit-form-label">Leadership:</label>
                        <input type="number" id="unitLeadership" name="unitLeadership" class="unit-form-input"
                            required><br><br>

                        <label for="unitObjectiveControl" class="unit-form-label">Objective Control:</label>
                        <input type="number" id="unitObjectiveControl" name="unitObjectiveControl"
                            class="unit-form-input" required><br><br>

                        <label for="unitNumber" class="unit-form-label">Number of models:</label>
                        <input type="number" id="unitNumber" name="unitNumber" class="unit-form-input" required><br><br>

                        <label for="unitPoints" class="unit-form-label">Points:</label>
                        <input type="number" id="unitPoints" name="unitPoints" class="unit-form-input" required><br><br>

                        <!-- Faction and Keywords -->
                        <label for="factionKeyword">Faction Keyword:</label>
                        <input type="text" id="factionKeyword" name="factionKeyword" required>

                        <label for="unitKeywords" class="unit-form-label">Keywords:</label>
                        <input type="text" id="unitKeywords" name="unitKeywords"
                            placeholder="Enter keywords separated by commas"><br><br>

                        <!-- Abilities -->
                        <div id="abilitiesContainer">
                            <h3>Abilities:</h3>
                            <button type="button" id="addAbilityButton">Add Ability</button>
                        </div>

                        <!-- Weapons -->
                        <div id="weaponsContainer">
                            <h3>Weapons:</h3>
                            <button type="button" id="addWeaponButton">Add Weapon</button>
                        </div>

                        <!-- Special Rules -->
                        <div>
                            <label for="specialRuleSelect">Special Rule:</label>
                            <select id="specialRuleSelect">
                                <option value="">Select a special rule</option>
                                <!-- Options will be added dynamically -->
                            </select>
                            <button id="addSpecialRuleButton">Add Special Rule</button>
                            <div id="selectedRulesContainer">
                                Selected rules will be displayed here
                            </div>
                        </div>

                        <!-- Submit Button -->
                        <button type="submit" id="submitUnitButton" class="unit-form-button">Add Unit</button>

                    </form>
                </div>
            </div>
        </div>
        <!-- <div>
        <label for="widthSlider">Adjust Width: </label>
        <input type="range" id="widthSlider" min="10" max="50" value="22">
    </div> -->

        <select id="factionKeywordSelect">
            <option value="">All Faction Keywords</option>
        </select>

        <div class="container" id="unitsContainer">
            <!-- Units will be dynamically added here -->
        </div>

        <div id="unitDetails" class="modal">
            <div class="modal-content">
                <span class="close-button">&times;</span>
                <div class="unit-details-header">
                    <h2 id="unitName"></h2>
                </div>
                <div class="clearfix">
                    <div class="unit-details-left">
                        <img id="unitImage" src="" alt="Unit Image" class="unit-image">
                        <button id="saveUnitButton">Save Unit</button>
                        <button id="exportUnitButton">Export Unit</button>
                        <div id="displayUnitPoints">
                            <!-- Points will be displayed here -->
                        </div>
                    </div>
                    <div class="unit-details-right">
                        <div class="unit-details-stats">
                            <!-- <h3>Stats</h3> -->
                            <div id="unitInvulSaveContainer">
                            </div>
                            <table id="unitStatsTable">
                                <thead>
                                    <tr>
                                        <th
                                            data-description="This represents the Movement characteristic of this unit.">
                                            M</th>
                                        <th data-description="This represents the Toughness of this unit.">T</th>
                                        <th data-description="This represents the Save characteristic of this unit.">Sv
                                        </th>
                                        <th data-description="This represents the Wounds characteristic of this unit.">W
                                        </th>
                                        <th data-description="This represents Leadership characteristic of this unit.">L
                                        </th>
                                        <th data-description="This represents Objective Control of this unit.">OC</th>
                                    </tr>
                                </thead>
                                <tbody id="unitStatsTableBody">
                                    <!-- Unit stats will be dynamically added here -->
                                </tbody>
                            </table>
                            <div id="unitSpecialRules" class="unit-special-rules">
                                <!-- Special rules will be dynamically added here -->
                            </div>
                        </div>

                        <div class="unit-details-abilities">
                            <h3>Abilities</h3>
                            <div id="unitAbilities">
                                <!-- Abilities will be dynamically added here -->
                            </div>
                        </div>

                        <div class="unit-details-weapons">
                            <h3>Weapons</h3>
                            <div id="unitWeapons">
                                <!-- Weapons will be dynamically added here -->
                            </div>
                        </div>
                    </div>
                </div>
                <div id="unitKeywordsContainer" class="unit-keywords">
                    Faction Keyword:
                </div>
                <div id="unitKeywordsContainer" class="unit-keywords">
                    Keywords: <span id="keywordsList"></span>
                </div>
            </div>
        </div>




        <div class="album-section">
            <h3>Army Collections</h3>
            <div class="album-scroll-container">
                <!-- Album items will be dynamically added here -->
            </div>
            <button class="album-toggle-button">Toggle</button>

            <!-- Add Album Button -->
            <div class="add-album-container">
                <button class="add-album-button">+</button>
                <p>Create New Album</p>
            </div>

            <!-- Modal Form for Adding New Album -->
            <div class="modal" id="albumModal">
                <div class="modal-content">
                    <span class="close-button" id="closeModal">&times;</span>
                    <h2>Create New Album</h2>
                    <form id="albumForm">
                        <label for="albumName">Album Name:</label>
                        <input type="text" id="albumName" name="albumName" required>

                        <label for="albumPicture">Album Image:</label>
                        <input type="file" id="albumPicture" name="albumPicture" accept="image/*" required>

                        <select id="detachmentDropdown" name="detachmentDropdown" required>
                            <option value="" disabled selected>Select an army strategy</option>
                            <!-- Options will be populated dynamically -->
                        </select>

                        <button type="submit">Create Album</button>
                    </form>
                </div>
            </div>
        </div>













        <div class="strategy-section">
            <div class="strategy-scroll-container">
                <!-- Strategy items will be dynamically added here -->
            </div>
            <button class="strategy-toggle-button">Toggle</button>

            <!-- Add Strategy Button -->
            <div class="add-strategy-container">
                <button class="add-strategy-button">+</button>
                <p>Create New Strategy</p>
            </div>

            <!-- Modal Form for Adding New Strategy -->
            <!-- Modal Form for Adding New Strategy -->
            <div class="strategy-modal" id="strategyModal">
                <div class="strategy-modal-content">
                    <span class="strategy-close-button" id="closeStrategyModal">&times;</span>
                    <h2>Create New Strategy</h2>
                    <form id="strategyForm">
                        <label for="detachmentName">Army Detachment Name:</label>
                        <input type="text" id="detachmentName" name="detachmentName" required><br>

                        <label for="armyType">Army:</label>
                        <select id="armyType" name="armyType" required>
                            <option value="" disabled selected>Select Army</option>
                            <option value="general">General</option>
                        </select><br>



                        <!-- New section for Army Rule -->
                        <div id="armyRuleContainer">
                            <label for="armyRuleName">Army Rule Name:</label>
                            <input type="text" id="armyRuleName" name="armyRuleName"><br>

                            <label for="armyRuleDescription">Army Rule Description:</label><br>
                            <textarea id="armyRuleDescription" name="armyRuleDescription" rows="3" cols="50"
                                placeholder="Describe the army rule here..."></textarea><br><br>
                        </div>

                        <div id="strategiesContainer">
                            <!-- Strategy fields will be dynamically added here -->
                        </div>

                        <button type="button" id="addStrategyButton">Add Strategy</button><br><br>

                        <button type="submit">Submit</button>
                    </form>
                </div>
            </div>



        </div>


    </body>

</html>
